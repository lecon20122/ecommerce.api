import{a as r,j as e,r as c,d as w}from"./app.59416ef7.js";import S from"./client.b36d0868.js";import{h as C}from"./keys.5cfe4f12.js";import k from"./ModalWithChildren.c7a4e047.js";import{S as m}from"./index.4af62f86.js";import{F as n}from"./index.2e88ce26.js";import{I as i}from"./index.acd534cf.js";import{R as x}from"./index.349cf55e.js";import{B as _}from"./button.4bec45d3.js";import"./footer.0b92a613.js";import"./UserOutline.0eb8c271.js";import"./AntdIcon.edf59427.js";import"./index.0579b088.js";import"./should-render.0937b3e3.js";import"./index.0f604fe8.js";import"./type.4dc494b7.js";import"./motion.0f103c9e.js";import"./DialogWrap.0b5480f1.js";import"./getScrollBarSize.bdedf68b.js";import"./styleChecker.5f442a83.js";import"./EyeOutlined.25e5ae95.js";import"./DownOutlined.02298d42.js";import"./getDataOrAriaProps.c03198e8.js";function q({cartSubTotal:s,items:d}){const o=d.variations.map(l=>r("figure",{className:"flex items-center mb-4 leading-5",children:[e("div",{className:"rounded  border border-gray-200 p-1",children:r("div",{className:"block relative w-20 h-20",children:[" ",e("img",{src:l.parent.variation_images[0].original_url,alt:"Title",className:"w-20 h-20"})," ",r("span",{className:"absolute -top-2 -right-2 w-6 h-6 text-sm text-center flex items-center justify-center text-white bg-gray-400 rounded-full",children:[l.pivot.quantity," "]})]})}),r("figcaption",{className:"ml-3",children:[e("p",{children:l.parent.title}),r("p",{className:"mt-1 text-gray-400",children:["Total : EGP ",parseInt(l.pivot.price)*l.pivot.quantity]})]})]},l.id));return e("aside",{className:"md:w-1/3",children:r("article",{className:"text-gray-600",children:[e("h2",{className:"text-lg font-semibold mb-3",children:"Summary"}),r("ul",{children:[r("li",{className:"flex justify-between mb-1",children:[e("span",{children:"Subtotal price:"}),r("span",{children:["EGP ",s]})]}),r("li",{className:"border-t flex justify-between mt-3 pt-3",children:[e("span",{children:"Total price:"}),r("span",{className:"text-gray-900 font-bold",children:["EGP ",s]})]})]}),e("hr",{className:"my-4"}),r("div",{className:"flex gap-3",children:[e("input",{className:"appearance-none border border-gray-200 bg-gray-100 rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full",type:"text",placeholder:"Coupon code"}),e("button",{type:"button",className:"px-4 py-2 inline-block text-gray-700 bg-white shadow-sm border border-gray-200 rounded-md hover:bg-gray-100 hover:text-blue-600",children:"Apply"})]}),e("hr",{className:"my-4"}),e("h2",{className:"text-lg font-semibold mb-3",children:"Items in cart"}),o]})})}function O({open:s,setOpen:d,cities:o}){const[l,p]=c.exports.useState({name:"",id:1,districts:[{id:1,name:"",city_id:1}]}),h=l==null?void 0:l.districts.map(t=>e(m.Option,{value:t.id,children:t.name},t.id)),u=o.map(t=>e(m.Option,{value:t.id,children:t.name},t.id)),b=t=>{const g=o.find(y=>y.id==t);p(g)};return e(k,{openModal:s,onOk:()=>d(!1),onCancel:()=>d(!1),title:"Add New Address",children:r(n,{onFinish:t=>{w.Inertia.post(C("client.add.address"),t,{preserveState:!1})},children:[e(n.Item,{label:"Name",name:"name",rules:[{required:!0,type:"string"}],children:e(i,{})}),e(n.Item,{label:"Phone",name:"phone",rules:[{required:!0,type:"string",max:20}],children:e(i,{maxLength:20})}),e(n.Item,{label:"Street Name",name:"street",rules:[{required:!0,type:"string"}],children:e(i,{})}),e(n.Item,{label:"Building name/no",name:"building",rules:[{required:!0,type:"string"}],children:e(i,{})}),e(n.Item,{label:"Floor no",name:"floor",rules:[{required:!0,type:"string"}],children:e(i,{})}),e(n.Item,{label:"Apartment no",name:"apartment_number",rules:[{required:!0,type:"string"}],children:e(i,{})}),e(n.Item,{label:"City/Area",name:"city",rules:[{required:!0}],children:e(m,{onSelect:t=>b(t),allowClear:!0,children:u})}),e(n.Item,{label:"District",name:"district_id",rules:[{required:!0}],children:e(m,{allowClear:!0,children:h})}),e(n.Item,{label:"Nearest LandMark",name:"nearby_landmark",rules:[{required:!0,type:"string"}],children:e(i,{})}),e(n.Item,{label:"Address Type",name:"type",rules:[{required:!0}],children:r(x.Group,{children:[e(x,{value:"home",children:" Home (7am-9pm , all week days) "}),e(x,{value:"office",children:" Office (9am - 6pm) Business days "})]})}),e(n.Item,{children:e(_,{type:"default",htmlType:"submit",children:"Add New Address"})})]})})}function re({user_addresses:s,items:d,shippingTypes:o,cartSubTotal:l,cities:p}){const[h,u]=c.exports.useState(0),[b,N]=c.exports.useState(0),[t,g]=c.exports.useState(""),[y,v]=c.exports.useState(!1),A=s.map(a=>r("label",{className:"flex p-3 border border-gray-200 rounded-md bg-gray-50 hover:border-blue-400 hover:bg-blue-50 cursor-pointer",children:[e("span",{children:e("input",{name:"shipping",type:"radio",value:a.id,onChange:f=>u(parseInt(f.target.value)),className:"h-4 w-4 mt-1"})}),r("p",{className:"ml-2",children:[e("span",{children:a.street}),e("br",{}),r("span",{children:["Building ",a.building,", Floor ",a.floor,", Apartment ",a.apartment_number]})]})]},a.id)),I=o.map(a=>r("label",{className:"flex p-3 border border-gray-200 rounded-md bg-gray-50 hover:border-blue-400 hover:bg-blue-50 cursor-pointer",children:[e("span",{children:e("input",{name:"shipping",type:"radio",value:a.id,onChange:f=>N(parseInt(f.target.value)),className:"h-4 w-4 mt-1"})}),r("p",{className:"ml-2 flex items-center space-x-2 justify-between w-full",children:[e("span",{className:"text-xl",children:a.type}),r("span",{className:"text-md",children:["EGP ",a.price]})]})]},a.id));return e(S,{children:e("div",{className:"container max-w-screen-xl mx-auto px-4 mt-5",children:r("div",{className:"flex flex-col md:flex-row gap-4 lg:gap-8",children:[e("main",{className:"md:w-2/3",children:r("article",{className:"border border-gray-200 bg-white shadow-sm rounded p-4 lg:p-6 mb-5",children:[r("form",{children:[r("div",{className:"flex items-center justify-start mb-5 space-x-2",children:[e("h2",{className:"text-xl font-semibold ",children:"Shipping Address"}),e("label",{className:"text-blue-600",onClick:a=>v(!0),children:"+ Add Address"})]}),e("div",{className:"grid sm:grid-cols-3 gap-3 mb-6",children:A})]}),e("h2",{className:"text-xl font-semibold mb-5",children:"Shipping Type"}),e("div",{className:"grid sm:grid-cols-3 gap-3 mb-6",children:I}),r("div",{className:"mb-4",children:[e("label",{className:"block mb-1",children:" Other info "}),e("textarea",{placeholder:"Type your wishes",onChange:a=>g(a.target.value),className:"appearance-none border border-gray-200 bg-gray-100 rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full"})]}),r("div",{className:"flex justify-end space-x-2",children:[e("a",{className:"px-5 py-2 inline-block text-gray-700 bg-white shadow-sm border border-gray-200 rounded-md hover:bg-gray-100 hover:text-blue-600",href:"#",children:" Back "}),e("button",{onClick:()=>{w.Inertia.post(C("client.checkout"),{shipping_address_id:h,shipping_type_id:b,notes:t},{preserveState:!1})},className:"px-5 py-2 inline-block text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:" Place order"})]})]})}),e(q,{cartSubTotal:l,items:d}),e(O,{open:y,setOpen:v,cities:p})]})})})}export{re as default};
