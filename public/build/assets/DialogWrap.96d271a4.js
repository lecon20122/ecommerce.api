import{X as V,c as w,p as B,d as he,ai as be,aj as X,G as Re,ad as xe,m as g,e as le,Y as G}from"./styleChecker.ccce6752.js";import{r as o,j as u,f as Se,g as ge,b as F,a as H}from"./app.a2833a7e.js";import{g as Ne,p as ke,K as J}from"./getScrollBarSize.fc7e30fe.js";import{c as U}from"./index.0579b088.js";var se=o.exports.createContext(null),Z=[];function _e(e,n){var t=o.exports.useState(function(){if(!V())return null;var c=document.createElement("div");return c}),i=w(t,1),a=i[0],r=o.exports.useContext(se),s=o.exports.useState(Z),l=w(s,2),f=l[0],d=l[1],y=r||function(c){d(function(b){var C=[c].concat(he(b));return C})};function h(){a.parentElement||document.body.appendChild(a)}function m(){var c;(c=a.parentElement)===null||c===void 0||c.removeChild(a)}return B(function(){return e?r?r(h):h():m(),m},[e]),B(function(){f.length&&(f.forEach(function(c){return c()}),d(Z))},[f]),[a,y]}function we(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Ie="rc-util-locker-".concat(Date.now()),ee=0;function $e(e){var n=!!e,t=o.exports.useState(function(){return ee+=1,"".concat(Ie,"_").concat(ee)}),i=w(t,1),a=i[0];B(function(){if(n){var r=Ne(),s=we();be(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(r,"px);"):"",`
}`),a)}else X(a);return function(){X(a)}},[n,a])}var te=!1;function Ee(e){return typeof e=="boolean"&&(te=e),te}var ne=function(n){return n===!1?!1:!V()||!n?null:typeof n=="string"?document.querySelector(n):typeof n=="function"?n():n},De=o.exports.forwardRef(function(e,n){var t=e.open,i=e.autoLock,a=e.getContainer;e.debug;var r=e.autoDestroy,s=r===void 0?!0:r,l=e.children,f=o.exports.useState(t),d=w(f,2),y=d[0],h=d[1],m=y||t;o.exports.useEffect(function(){(s||t)&&h(t)},[t,s]);var c=o.exports.useState(function(){return ne(a)}),b=w(c,2),C=b[0],$=b[1];o.exports.useEffect(function(){var P=ne(a);$(P!=null?P:null)});var E=_e(m&&!C),I=w(E,2),N=I[0],R=I[1],x=C!=null?C:N;$e(i&&t&&V()&&(x===N||x===document.body));var S=null;if(l&&Re(l)&&n){var k=l;S=k.ref}var p=xe(S,n);if(!m||!V()||C===void 0)return null;var A=x===!1||Ee(),D=l;return n&&(D=o.exports.cloneElement(l,{ref:p})),u(se.Provider,{value:R,children:A?D:Se.exports.createPortal(D,x)})});function Pe(){var e=g({},ge);return e.useId}var ae=0;function pe(e){var n=o.exports.useState("ssr-id"),t=w(n,2),i=t[0],a=t[1],r=Pe(),s=r==null?void 0:r();return o.exports.useEffect(function(){if(!r){var l=ae;ae+=1,a("rc_unique_".concat(l))}},[]),e||s||i}function Me(e){var n=e.prefixCls,t=e.style,i=e.visible,a=e.maskProps,r=e.motionName;return u(le,{visible:i,motionName:r,leavedClassName:"".concat(n,"-mask-hidden"),children:function(s,l){var f=s.className,d=s.style;return u("div",{ref:l,style:g(g({},d),t),className:U("".concat(n,"-mask"),f),...a})}},"mask")}function re(e,n,t){var i=n;return!i&&t&&(i="".concat(e,"-").concat(t)),i}function oe(e,n){var t=e["page".concat(n?"Y":"X","Offset")],i="scroll".concat(n?"Top":"Left");if(typeof t!="number"){var a=e.document;t=a.documentElement[i],typeof t!="number"&&(t=a.body[i])}return t}function Ae(e){var n=e.getBoundingClientRect(),t={left:n.left,top:n.top},i=e.ownerDocument,a=i.defaultView||i.parentWindow;return t.left+=oe(a),t.top+=oe(a,!0),t}const Oe=o.exports.memo(function(e){var n=e.children;return n},function(e,n){var t=n.shouldUpdate;return!t});var ie={width:0,height:0,overflow:"hidden",outline:"none"},Te=F.forwardRef(function(e,n){var t=e.prefixCls,i=e.className,a=e.style,r=e.title,s=e.ariaId,l=e.footer,f=e.closable,d=e.closeIcon,y=e.onClose,h=e.children,m=e.bodyStyle,c=e.bodyProps,b=e.modalRender,C=e.onMouseDown,$=e.onMouseUp,E=e.holderRef,I=e.visible,N=e.forceRender,R=e.width,x=e.height,S=o.exports.useRef(),k=o.exports.useRef();F.useImperativeHandle(n,function(){return{focus:function(){var _;(_=S.current)===null||_===void 0||_.focus()},changeActive:function(_){var W=document,T=W.activeElement;_&&T===k.current?S.current.focus():!_&&T===S.current&&k.current.focus()}}});var p={};R!==void 0&&(p.width=R),x!==void 0&&(p.height=x);var A;l&&(A=u("div",{className:"".concat(t,"-footer"),children:l}));var D;r&&(D=u("div",{className:"".concat(t,"-header"),children:u("div",{className:"".concat(t,"-title"),id:s,children:r})}));var P;f&&(P=u("button",{type:"button",onClick:y,"aria-label":"Close",className:"".concat(t,"-close"),children:d||u("span",{className:"".concat(t,"-close-x")})}));var M=H("div",{className:"".concat(t,"-content"),children:[P,D,u("div",{className:"".concat(t,"-body"),style:m,...c,children:h}),A]});return H("div",{role:"dialog","aria-labelledby":r?s:null,"aria-modal":"true",ref:E,style:g(g({},a),p),className:U(t,i),onMouseDown:C,onMouseUp:$,children:[u("div",{tabIndex:0,ref:S,style:ie,"aria-hidden":"true"}),u(Oe,{shouldUpdate:I||N,children:b?b(M):M}),u("div",{tabIndex:0,ref:k,style:ie,"aria-hidden":"true"})]},"dialog-element")}),ce=o.exports.forwardRef(function(e,n){var t=e.prefixCls,i=e.title,a=e.style,r=e.className,s=e.visible,l=e.forceRender,f=e.destroyOnClose,d=e.motionName,y=e.ariaId,h=e.onVisibleChanged,m=e.mousePosition,c=o.exports.useRef(),b=o.exports.useState(),C=w(b,2),$=C[0],E=C[1],I={};$&&(I.transformOrigin=$);function N(){var R=Ae(c.current);E(m?"".concat(m.x-R.left,"px ").concat(m.y-R.top,"px"):"")}return u(le,{visible:s,onVisibleChanged:h,onAppearPrepare:N,onEnterPrepare:N,forceRender:l,motionName:d,removeOnLeave:f,ref:c,children:function(R,x){var S=R.className,k=R.style;return u(Te,{...e,ref:n,title:i,ariaId:y,prefixCls:t,holderRef:x,style:g(g(g({},k),a),I),className:U(r,S)})}})});ce.displayName="Content";function Ue(e){var n=e.prefixCls,t=n===void 0?"rc-dialog":n,i=e.zIndex,a=e.visible,r=a===void 0?!1:a,s=e.keyboard,l=s===void 0?!0:s,f=e.focusTriggerAfterClose,d=f===void 0?!0:f,y=e.wrapStyle,h=e.wrapClassName,m=e.wrapProps,c=e.onClose,b=e.afterClose,C=e.transitionName,$=e.animation,E=e.closable,I=E===void 0?!0:E,N=e.mask,R=N===void 0?!0:N,x=e.maskTransitionName,S=e.maskAnimation,k=e.maskClosable,p=k===void 0?!0:k,A=e.maskStyle,D=e.maskProps,P=e.rootClassName,M=o.exports.useRef(),O=o.exports.useRef(),_=o.exports.useRef(),W=o.exports.useState(r),T=w(W,2),z=T[0],Q=T[1],ue=pe();function fe(){G(O.current,document.activeElement)||(M.current=document.activeElement)}function de(){if(!G(O.current,document.activeElement)){var v;(v=_.current)===null||v===void 0||v.focus()}}function ve(v){if(v)de();else{if(Q(!1),R&&M.current&&d){try{M.current.focus({preventScroll:!0})}catch{}M.current=null}z&&(b==null||b())}}function j(v){c==null||c(v)}var L=o.exports.useRef(!1),q=o.exports.useRef(),me=function(){clearTimeout(q.current),L.current=!0},Ce=function(){q.current=setTimeout(function(){L.current=!1})},Y=null;p&&(Y=function(K){L.current?L.current=!1:O.current===K.target&&j(K)});function ye(v){if(l&&v.keyCode===J.ESC){v.stopPropagation(),j(v);return}r&&v.keyCode===J.TAB&&_.current.changeActive(!v.shiftKey)}return o.exports.useEffect(function(){r&&(Q(!0),fe())},[r]),o.exports.useEffect(function(){return function(){clearTimeout(q.current)}},[]),H("div",{className:U("".concat(t,"-root"),P),...ke(e,{data:!0}),children:[u(Me,{prefixCls:t,visible:R&&r,motionName:re(t,x,S),style:g({zIndex:i},A),maskProps:D}),u("div",{tabIndex:-1,onKeyDown:ye,className:U("".concat(t,"-wrap"),h),ref:O,onClick:Y,style:g(g({zIndex:i},y),{},{display:z?null:"none"}),...m,children:u(ce,{...e,onMouseDown:me,onMouseUp:Ce,ref:_,closable:I,ariaId:ue,prefixCls:t,visible:r&&z,onClose:j,onVisibleChanged:ve,motionName:re(t,C,$)})})]})}var Le=function(n){var t=n.visible,i=n.getContainer,a=n.forceRender,r=n.destroyOnClose,s=r===void 0?!1:r,l=n.afterClose,f=o.exports.useState(t),d=w(f,2),y=d[0],h=d[1];return o.exports.useEffect(function(){t&&h(!0)},[t]),!a&&s&&!y?null:u(De,{open:t||a||y,autoDestroy:!1,getContainer:i,autoLock:t||y,children:u(Ue,{...n,destroyOnClose:s,afterClose:function(){l==null||l(),h(!1)}})})};Le.displayName="Dialog";export{Le as D,De as P};
