import{r as h,j as u,a as S,F as H}from"./app.2069c097.js";import{H as T,v as re,C as M,d as w,h as se,a2 as W,$ as E,E as le,j as ce,i as ae,I as ie,a3 as ue,a4 as fe,a5 as de}from"./zoom.082579c9.js";import{B as R,c as Q,u as L,a as me,N as Ce,b as ge,d as xe,r as be}from"./styleChecker.147b1434.js";import{u as Y,P as pe,D as ve}from"./index.976795d5.js";function he(){const[e,n]=h.exports.useState([]),r=h.exports.useCallback(t=>(n(o=>[].concat(T(o),[t])),()=>{n(o=>o.filter(i=>i!==t))}),[]);return[e,r]}function _(e){return!!(e&&e.then)}const ye=e=>{const{type:n,children:r,prefixCls:t,buttonProps:o,close:i,autoFocus:p,emitEvent:m,quitOnNullishReturnValue:a,actionFn:l}=e,s=h.exports.useRef(!1),C=h.exports.useRef(null),[f,c]=re(!1),g=function(){i==null||i.apply(void 0,arguments)};h.exports.useEffect(()=>{let x=null;return p&&(x=setTimeout(()=>{var d;(d=C.current)===null||d===void 0||d.focus()})),()=>{x&&clearTimeout(x)}},[]);const b=x=>{!_(x)||(c(!0),x.then(function(){g.apply(void 0,arguments),s.current=!1},d=>(c(!1,!0),s.current=!1,Promise.reject(d))))},y=x=>{if(s.current)return;if(s.current=!0,!l){g();return}let d;if(m){if(d=l(x),a&&!_(d)){s.current=!1,g(x);return}}else if(l.length)d=l(i),s.current=!1;else if(d=l(),!d){g();return}b(d)};return u(R,{...Object.assign({},Q(n),{onClick:y,loading:f,prefixCls:t},o,{ref:C}),children:r})},z=ye;var Oe=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};function q(e,n){return u("span",{className:`${e}-close-x`,children:n||u(se,{className:`${e}-close-icon`})})}const G=e=>{const{okText:n,okType:r="primary",cancelText:t,confirmLoading:o,onOk:i,onCancel:p,okButtonProps:m,cancelButtonProps:a,footer:l}=e,[s]=L("Modal",W());return l===void 0?S(H,{children:[u(R,{...Object.assign({onClick:p},a),children:t||(s==null?void 0:s.cancelText)}),u(R,{...Object.assign({},Q(r),{loading:o,onClick:i},m),children:n||(s==null?void 0:s.okText)})]}):l},Pe=e=>{const{prefixCls:n,className:r,closeIcon:t,closable:o,type:i,title:p,children:m}=e,a=Oe(e,["prefixCls","className","closeIcon","closable","type","title","children"]),{getPrefixCls:l}=h.exports.useContext(M),s=l(),C=n||l("modal"),[,f]=Y(C),c=`${C}-confirm`;let g={};return i?g={closable:o!=null?o:!1,title:"",footer:"",children:u(X,{...Object.assign({},e,{confirmPrefixCls:c,rootPrefixCls:s,content:m})})}:g={closable:o!=null?o:!0,title:p,footer:e.footer===null?e.footer:u(G,{...Object.assign({},e)}),children:m},u(pe,{...Object.assign({prefixCls:C,className:w(f,`${C}-pure-panel`,i&&c,i&&`${c}-${i}`,r)},a,{closeIcon:q(C,t),closable:o},g)})},ke=Pe;var je=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let B;const Te=e=>{B={x:e.pageX,y:e.pageY},setTimeout(()=>{B=null},100)};me()&&document.documentElement.addEventListener("click",Te,!0);const we=e=>{var n;const{getPopupContainer:r,getPrefixCls:t,direction:o}=h.exports.useContext(M),i=$=>{const{onCancel:k}=e;k==null||k($)},p=$=>{const{onOk:k}=e;k==null||k($)},{prefixCls:m,className:a,rootClassName:l,open:s,wrapClassName:C,centered:f,getContainer:c,closeIcon:g,focusTriggerAfterClose:b=!0,visible:y,width:x=520}=e,d=je(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","visible","width"]),O=t("modal",m),v=t(),[N,I]=Y(O),A=w(C,{[`${O}-centered`]:!!f,[`${O}-wrap-rtl`]:o==="rtl"});return N(u(Ce,{children:u(ge,{status:!0,override:!0,children:u(ve,{...Object.assign({width:x},d,{getContainer:c===void 0?r:c,prefixCls:O,rootClassName:w(I,l),wrapClassName:A,footer:e.footer===null?e.footer:u(G,{...Object.assign({},e,{onOk:p,onCancel:i})}),visible:s!=null?s:y,mousePosition:(n=d.mousePosition)!==null&&n!==void 0?n:B,onClose:i,closeIcon:q(O,g),focusTriggerAfterClose:b,transitionName:E(v,"zoom",e.transitionName),maskTransitionName:E(v,"fade",e.maskTransitionName),className:w(I,a)})})})}))},V=we;function X(e){const{icon:n,onCancel:r,onOk:t,close:o,okText:i,okButtonProps:p,cancelText:m,cancelButtonProps:a,confirmPrefixCls:l,rootPrefixCls:s,type:C,okCancel:f,footer:c,locale:g}=e;let b=n;if(!n&&n!==null)switch(C){case"info":b=u(ie,{});break;case"success":b=u(ae,{});break;case"error":b=u(ce,{});break;default:b=u(le,{})}const y=e.okType||"primary",x=f!=null?f:C==="confirm",d=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[O]=L("Modal"),v=g||O,N=x&&u(z,{actionFn:r,close:o,autoFocus:d==="cancel",buttonProps:a,prefixCls:`${s}-btn`,children:m||(v==null?void 0:v.cancelText)});return S("div",{className:`${l}-body-wrapper`,children:[S("div",{className:`${l}-body`,children:[b,e.title===void 0?null:u("span",{className:`${l}-title`,children:e.title}),u("div",{className:`${l}-content`,children:e.content})]}),c!==void 0?c:S("div",{className:`${l}-btns`,children:[N,u(z,{type:y,actionFn:t,close:o,autoFocus:d==="ok",buttonProps:p,prefixCls:`${s}-btn`,children:i||(x?v==null?void 0:v.okText:v==null?void 0:v.justOkText)})]})]})}const J=e=>{const{close:n,zIndex:r,afterClose:t,visible:o,open:i,keyboard:p,centered:m,getContainer:a,maskStyle:l,direction:s,prefixCls:C,wrapClassName:f,rootPrefixCls:c,iconPrefixCls:g,bodyStyle:b,closable:y=!1,closeIcon:x,modalRender:d,focusTriggerAfterClose:O}=e,v=`${C}-confirm`,N=e.width||416,I=e.style||{},A=e.mask===void 0?!0:e.mask,$=e.maskClosable===void 0?!1:e.maskClosable,k=w(v,`${v}-${e.type}`,{[`${v}-rtl`]:s==="rtl"},e.className);return u(ue,{prefixCls:c,iconPrefixCls:g,direction:s,children:u(V,{prefixCls:C,className:k,wrapClassName:w({[`${v}-centered`]:!!e.centered},f),onCancel:()=>n==null?void 0:n({triggerCancel:!0}),open:i,title:"",footer:"",transitionName:E(c,"zoom",e.transitionName),maskTransitionName:E(c,"fade",e.maskTransitionName),mask:A,maskClosable:$,maskStyle:l,style:I,bodyStyle:b,width:N,zIndex:r,afterClose:t,keyboard:p,centered:m,getContainer:a,closable:y,closeIcon:x,modalRender:d,focusTriggerAfterClose:O,children:u(X,{...Object.assign({},e,{confirmPrefixCls:v})})})})},Ne=[],j=Ne;var $e=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let K="";function Fe(){return K}function F(e){const n=document.createDocumentFragment();let r=Object.assign(Object.assign({},e),{close:p,open:!0}),t;function o(){for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];const C=l.some(f=>f&&f.triggerCancel);e.onCancel&&C&&e.onCancel.apply(e,[()=>{}].concat(T(l.slice(1))));for(let f=0;f<j.length;f++)if(j[f]===p){j.splice(f,1);break}xe(n)}function i(a){var{okText:l,cancelText:s,prefixCls:C}=a,f=$e(a,["okText","cancelText","prefixCls"]);clearTimeout(t),t=setTimeout(()=>{const c=W(),{getPrefixCls:g,getIconPrefixCls:b}=fe(),y=g(void 0,Fe()),x=C||`${y}-modal`,d=b();be(u(J,{...Object.assign({},f,{prefixCls:x,rootPrefixCls:y,iconPrefixCls:d,okText:l,locale:c,cancelText:s||c.cancelText})}),n)})}function p(){for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),o.apply(this,l)}}),r.visible&&delete r.visible,i(r)}function m(a){typeof a=="function"?r=a(r):r=Object.assign(Object.assign({},r),a),i(r)}return i(r),j.push(p),{destroy:p,update:m}}function U(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Z(e){return Object.assign(Object.assign({},e),{type:"info"})}function ee(e){return Object.assign(Object.assign({},e),{type:"success"})}function te(e){return Object.assign(Object.assign({},e),{type:"error"})}function ne(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Ie(e){let{rootPrefixCls:n}=e;K=n}const Se=(e,n)=>{let{afterClose:r,config:t}=e;var o;const[i,p]=h.exports.useState(!0),[m,a]=h.exports.useState(t),{direction:l,getPrefixCls:s}=h.exports.useContext(M),C=s("modal"),f=s(),c=function(){p(!1);for(var y=arguments.length,x=new Array(y),d=0;d<y;d++)x[d]=arguments[d];const O=x.some(v=>v&&v.triggerCancel);m.onCancel&&O&&m.onCancel.apply(m,[()=>{}].concat(T(x.slice(1))))};h.exports.useImperativeHandle(n,()=>({destroy:c,update:y=>{a(x=>Object.assign(Object.assign({},x),y))}}));const g=(o=m.okCancel)!==null&&o!==void 0?o:m.type==="confirm",[b]=L("Modal",de.Modal);return u(J,{...Object.assign({prefixCls:C,rootPrefixCls:f},m,{close:c,open:i,afterClose:r,okText:m.okText||(g?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:l,cancelText:m.cancelText||(b==null?void 0:b.cancelText)})})},Ee=h.exports.forwardRef(Se);let D=0;const Ae=h.exports.memo(h.exports.forwardRef((e,n)=>{const[r,t]=he();return h.exports.useImperativeHandle(n,()=>({patchElement:t}),[]),u(H,{children:r})}));function Re(){const e=h.exports.useRef(null),[n,r]=h.exports.useState([]);h.exports.useEffect(()=>{n.length&&(T(n).forEach(p=>{p()}),r([]))},[n]);const t=h.exports.useCallback(i=>function(m){var a;D+=1;const l=h.exports.createRef();let s;const C=u(Ee,{config:i(m),ref:l,afterClose:()=>{s==null||s()}},`modal-${D}`);return s=(a=e.current)===null||a===void 0?void 0:a.patchElement(C),s&&j.push(s),{destroy:()=>{function f(){var c;(c=l.current)===null||c===void 0||c.destroy()}l.current?f():r(c=>[].concat(T(c),[f]))},update:f=>{function c(){var g;(g=l.current)===null||g===void 0||g.update(f)}l.current?c():r(g=>[].concat(T(g),[c]))}}},[]);return[h.exports.useMemo(()=>({info:t(Z),success:t(ee),error:t(te),warning:t(U),confirm:t(ne)}),[]),u(Ae,{ref:e},"modal-holder")]}function oe(e){return F(U(e))}const P=V;P.useModal=Re;P.info=function(n){return F(Z(n))};P.success=function(n){return F(ee(n))};P.error=function(n){return F(te(n))};P.warning=oe;P.warn=oe;P.confirm=function(n){return F(ne(n))};P.destroyAll=function(){for(;j.length;){const n=j.pop();n&&n()}};P.config=Ie;P._InternalPanelDoNotUseOrYouWillBeFired=ke;const Be=P;function De({openModal:e,onOk:n,onCancel:r,children:t,title:o}){return u(Be,{okButtonProps:{type:"default"},title:o,centered:!0,onOk:n,onCancel:r,open:e,footer:null,children:t})}export{De as default};
