import{r as v,j as c,a as M,F as U}from"./app.a2833a7e.js";import{y as ge,c as A,B as G,ak as ee,al as he,C as te,b as j,a7 as ke,a3 as L,af as ne,am as oe,a9 as ye,an as Pe,a as y,d as $,ao as be,ap as Te,aq as re,ar as we,as as Oe,at as Ne,au as Se,o as Re}from"./styleChecker.ccce6752.js";import{c as V}from"./index.0579b088.js";import{D as pe}from"./DialogWrap.96d271a4.js";import"./getScrollBarSize.fc7e30fe.js";function J(t){return!!(t&&!!t.then)}var Fe=function(e){var o=v.exports.useRef(!1),n=v.exports.useRef(null),r=ge(!1),a=A(r,2),x=a[0],h=a[1],i=e.close,C=function(){i==null||i.apply(void 0,arguments)};v.exports.useEffect(function(){var s=null;return e.autoFocus&&(s=setTimeout(function(){var u;(u=n.current)===null||u===void 0||u.focus()})),function(){s&&clearTimeout(s)}},[]);var f=function(u){!J(u)||(h(!0),u.then(function(){h(!1,!0),C.apply(void 0,arguments),o.current=!1},function(k){console.error(k),h(!1,!0),o.current=!1}))},l=function(u){var k=e.actionFn;if(!o.current){if(o.current=!0,!k){C();return}var g;if(e.emitEvent){if(g=k(u),e.quitOnNullishReturnValue&&!J(g)){o.current=!1,C(u);return}}else if(k.length)g=k(i),o.current=!1;else if(g=k(),!g){C();return}f(g)}},d=e.type,P=e.children,b=e.prefixCls,T=e.buttonProps;return c(G,{...ee(d),onClick:l,loading:x,prefixCls:b,...T,ref:n,children:P})};const K=Fe;var Ie=globalThis&&globalThis.__rest||function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},X,_e=function(e){X={x:e.pageX,y:e.pageY},setTimeout(function(){X=null},100)};he()&&document.documentElement.addEventListener("click",_e,!0);var $e=function(e){var o,n=v.exports.useContext(te),r=n.getPopupContainer,a=n.getPrefixCls,x=n.direction,h=function(R){var m=e.onCancel;m==null||m(R)},i=function(R){var m=e.onOk;m==null||m(R)},C=e.prefixCls,f=e.footer,l=e.visible,d=e.open,P=d===void 0?!1:d,b=e.wrapClassName,T=e.centered,s=e.getContainer,u=e.closeIcon,k=e.focusTriggerAfterClose,g=k===void 0?!0:k,N=e.width,w=N===void 0?520:N,p=Ie(e,["prefixCls","footer","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","width"]),S=a("modal",C),F=a(),z=c(ne,{componentName:"Modal",defaultLocale:oe(),children:function(I){var R=e.okText,m=e.okType,W=m===void 0?"primary":m,q=e.cancelText,B=e.confirmLoading,Q=B===void 0?!1:B;return M(U,{children:[c(G,{onClick:h,...e.cancelButtonProps,children:q||I.cancelText}),c(G,{...ee(W),loading:Q,onClick:i,...e.okButtonProps,children:R!=null?R:I.okText})]})}}),D=c("span",{className:"".concat(S,"-close-x"),children:u||c(ye,{className:"".concat(S,"-close-icon")})}),H=V(b,(o={},j(o,"".concat(S,"-centered"),!!T),j(o,"".concat(S,"-wrap-rtl"),x==="rtl"),o));return c(ke,{status:!0,override:!0,children:c(pe,{width:w,...p,getContainer:s===void 0?r:s,prefixCls:S,wrapClassName:H,footer:f===void 0?z:f,visible:P||l,mousePosition:X,onClose:h,closeIcon:D,focusTriggerAfterClose:g,transitionName:L(F,"zoom",e.transitionName),maskTransitionName:L(F,"fade",e.maskTransitionName)})})};const ae=$e;var Ae=function(e){var o=e.icon,n=e.onCancel,r=e.onOk,a=e.close,x=e.zIndex,h=e.afterClose,i=e.visible,C=e.open,f=e.keyboard,l=e.centered,d=e.getContainer,P=e.maskStyle,b=e.okText,T=e.okButtonProps,s=e.cancelText,u=e.cancelButtonProps,k=e.direction,g=e.prefixCls,N=e.wrapClassName,w=e.rootPrefixCls,p=e.iconPrefixCls,S=e.bodyStyle,F=e.closable,z=F===void 0?!1:F,D=e.closeIcon,H=e.modalRender,I=e.focusTriggerAfterClose,R=e.okType||"primary",m="".concat(g,"-confirm"),W="okCancel"in e?e.okCancel:!0,q=e.width||416,B=e.style||{},Q=e.mask===void 0?!0:e.mask,me=e.maskClosable===void 0?!1:e.maskClosable,Y=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",ve=V(m,"".concat(m,"-").concat(e.type),j({},"".concat(m,"-rtl"),k==="rtl"),e.className),xe=W&&c(K,{actionFn:n,close:a,autoFocus:Y==="cancel",buttonProps:u,prefixCls:"".concat(w,"-btn"),children:s});return c(Pe,{prefixCls:w,iconPrefixCls:p,direction:k,children:c(ae,{prefixCls:g,className:ve,wrapClassName:V(j({},"".concat(m,"-centered"),!!e.centered),N),onCancel:function(){return a==null?void 0:a({triggerCancel:!0})},open:C||i,title:"",footer:"",transitionName:L(w,"zoom",e.transitionName),maskTransitionName:L(w,"fade",e.maskTransitionName),mask:Q,maskClosable:me,maskStyle:P,style:B,bodyStyle:S,width:q,zIndex:x,afterClose:h,keyboard:f,centered:l,getContainer:d,closable:z,closeIcon:D,modalRender:H,focusTriggerAfterClose:I,children:M("div",{className:"".concat(m,"-body-wrapper"),children:[M("div",{className:"".concat(m,"-body"),children:[o,e.title===void 0?null:c("span",{className:"".concat(m,"-title"),children:e.title}),c("div",{className:"".concat(m,"-content"),children:e.content})]}),M("div",{className:"".concat(m,"-btns"),children:[xe,c(K,{type:R,actionFn:r,close:a,autoFocus:Y==="ok",buttonProps:T,prefixCls:"".concat(w,"-btn"),children:b})]})]})})})};const le=Ae;var Ee=[];const _=Ee;var Be=globalThis&&globalThis.__rest||function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},ie="";function Me(){return ie}function E(t){var e=document.createDocumentFragment(),o=y(y({},t),{close:x,open:!0}),n;function r(){for(var i=arguments.length,C=new Array(i),f=0;f<i;f++)C[f]=arguments[f];var l=C.some(function(b){return b&&b.triggerCancel});t.onCancel&&l&&t.onCancel.apply(t,[function(){}].concat($(C.slice(1))));for(var d=0;d<_.length;d++){var P=_[d];if(P===x){_.splice(d,1);break}}be(e)}function a(i){var C=i.okText,f=i.cancelText,l=i.prefixCls,d=Be(i,["okText","cancelText","prefixCls"]);clearTimeout(n),n=setTimeout(function(){var P=oe(),b=Se(),T=b.getPrefixCls,s=b.getIconPrefixCls,u=T(void 0,Me()),k=l||"".concat(u,"-modal"),g=s();Te(c(le,{...d,prefixCls:k,rootPrefixCls:u,iconPrefixCls:g,okText:C||(d.okCancel?P.okText:P.justOkText),cancelText:f||P.cancelText}),e)})}function x(){for(var i=this,C=arguments.length,f=new Array(C),l=0;l<C;l++)f[l]=arguments[l];o=y(y({},o),{open:!1,afterClose:function(){typeof t.afterClose=="function"&&t.afterClose(),r.apply(i,f)}}),o.visible&&delete o.visible,a(o)}function h(i){typeof i=="function"?o=i(o):o=y(y({},o),i),a(o)}return a(o),_.push(x),{destroy:x,update:h}}function ce(t){return y(y({icon:c(re,{}),okCancel:!1},t),{type:"warning"})}function se(t){return y(y({icon:c(we,{}),okCancel:!1},t),{type:"info"})}function ue(t){return y(y({icon:c(Oe,{}),okCancel:!1},t),{type:"success"})}function fe(t){return y(y({icon:c(Ne,{}),okCancel:!1},t),{type:"error"})}function de(t){return y(y({icon:c(re,{}),okCancel:!0},t),{type:"confirm"})}function je(t){var e=t.rootPrefixCls;ie=e}function Le(){var t=v.exports.useState([]),e=A(t,2),o=e[0],n=e[1],r=v.exports.useCallback(function(a){return n(function(x){return[].concat($(x),[a])}),function(){n(function(x){return x.filter(function(h){return h!==a})})}},[]);return[o,r]}var ze=function(e,o){var n=e.afterClose,r=e.config,a=v.exports.useState(!0),x=A(a,2),h=x[0],i=x[1],C=v.exports.useState(r),f=A(C,2),l=f[0],d=f[1],P=v.exports.useContext(te),b=P.direction,T=P.getPrefixCls,s=T("modal"),u=T(),k=function(){i(!1);for(var N=arguments.length,w=new Array(N),p=0;p<N;p++)w[p]=arguments[p];var S=w.some(function(F){return F&&F.triggerCancel});l.onCancel&&S&&l.onCancel.apply(l,[function(){}].concat($(w.slice(1))))};return v.exports.useImperativeHandle(o,function(){return{destroy:k,update:function(N){d(function(w){return y(y({},w),N)})}}}),c(ne,{componentName:"Modal",defaultLocale:Re.Modal,children:function(g){return c(le,{prefixCls:s,rootPrefixCls:u,...l,close:k,open:h,afterClose:n,okText:l.okText||(l.okCancel?g.okText:g.justOkText),direction:b,cancelText:l.cancelText||g.cancelText})}})};const De=v.exports.forwardRef(ze);var Z=0,He=v.exports.memo(v.exports.forwardRef(function(t,e){var o=Le(),n=A(o,2),r=n[0],a=n[1];return v.exports.useImperativeHandle(e,function(){return{patchElement:a}},[]),c(U,{children:r})}));function We(){var t=v.exports.useRef(null),e=v.exports.useState([]),o=A(e,2),n=o[0],r=o[1];v.exports.useEffect(function(){if(n.length){var h=$(n);h.forEach(function(i){i()}),r([])}},[n]);var a=v.exports.useCallback(function(h){return function(C){var f;Z+=1;var l=v.exports.createRef(),d,P=c(De,{config:h(C),ref:l,afterClose:function(){d==null||d()}},"modal-".concat(Z));return d=(f=t.current)===null||f===void 0?void 0:f.patchElement(P),{destroy:function(){function T(){var s;(s=l.current)===null||s===void 0||s.destroy()}l.current?T():r(function(s){return[].concat($(s),[T])})},update:function(T){function s(){var u;(u=l.current)===null||u===void 0||u.update(T)}l.current?s():r(function(u){return[].concat($(u),[s])})}}}},[]),x=v.exports.useMemo(function(){return{info:a(se),success:a(ue),error:a(fe),warning:a(ce),confirm:a(de)}},[]);return[x,c(He,{ref:t})]}function Ce(t){return E(ce(t))}var O=ae;O.useModal=We;O.info=function(e){return E(se(e))};O.success=function(e){return E(ue(e))};O.error=function(e){return E(fe(e))};O.warning=Ce;O.warn=Ce;O.confirm=function(e){return E(de(e))};O.destroyAll=function(){for(;_.length;){var e=_.pop();e&&e()}};O.config=je;const qe=O;function Ke({openModal:t,onOk:e,onCancel:o,children:n,title:r}){return c(qe,{okButtonProps:{type:"default"},title:r,centered:!0,onOk:e,onCancel:o,open:t,footer:null,children:n})}export{Ke as default};
