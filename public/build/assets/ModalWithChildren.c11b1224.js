import{r as p,j as i,a as S,F as D}from"./app.20d7a450.js";import{H as T,C as B,d as w,h as oe,X as H,Y as E,E as ne,j as se,i as re,I as le,Z as ce,$ as ae,a0 as ie}from"./zoom.43d26361.js";import{u as R,B as L,c as ue,a as fe,N as de,b as me,d as Ce,r as ge}from"./styleChecker.d0e0c105.js";import{A as z}from"./ActionButton.12482c65.js";import{u as W,P as xe,D as be}from"./index.7da7955d.js";function pe(){const[e,o]=p.exports.useState([]),s=p.exports.useCallback(t=>(o(n=>[].concat(T(n),[t])),()=>{o(n=>n.filter(f=>f!==t))}),[]);return[e,s]}var ve=globalThis&&globalThis.__rest||function(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};function Q(e,o){return i("span",{className:`${e}-close-x`,children:o||i(oe,{className:`${e}-close-icon`})})}const Y=e=>{const{okText:o,okType:s="primary",cancelText:t,confirmLoading:n,onOk:f,onCancel:x,okButtonProps:d,cancelButtonProps:a,footer:l}=e,[r]=R("Modal",H());return l===void 0?S(D,{children:[i(L,{...Object.assign({onClick:x},a),children:t||(r==null?void 0:r.cancelText)}),i(L,{...Object.assign({},ue(s),{loading:n,onClick:f},d),children:o||(r==null?void 0:r.okText)})]}):l},ye=e=>{const{prefixCls:o,className:s,closeIcon:t,closable:n,type:f,title:x,children:d}=e,a=ve(e,["prefixCls","className","closeIcon","closable","type","title","children"]),{getPrefixCls:l}=p.exports.useContext(B),r=l(),m=o||l("modal"),[,u]=W(m),c=`${m}-confirm`;let b={};return f?b={closable:n!=null?n:!1,title:"",footer:"",children:i(G,{...Object.assign({},e,{confirmPrefixCls:c,rootPrefixCls:r,content:d})})}:b={closable:n!=null?n:!0,title:x,footer:e.footer===null?e.footer:i(Y,{...Object.assign({},e)}),children:d},i(xe,{...Object.assign({prefixCls:m,className:w(u,`${m}-pure-panel`,f&&c,f&&`${c}-${f}`,s)},a,{closeIcon:Q(m,t),closable:n},b)})},he=ye;var Oe=globalThis&&globalThis.__rest||function(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};let M;const Pe=e=>{M={x:e.pageX,y:e.pageY},setTimeout(()=>{M=null},100)};fe()&&document.documentElement.addEventListener("click",Pe,!0);const ke=e=>{var o;const{getPopupContainer:s,getPrefixCls:t,direction:n}=p.exports.useContext(B),f=$=>{const{onCancel:k}=e;k==null||k($)},x=$=>{const{onOk:k}=e;k==null||k($)},{prefixCls:d,className:a,rootClassName:l,open:r,wrapClassName:m,centered:u,getContainer:c,closeIcon:b,focusTriggerAfterClose:C=!0,visible:h,width:v=520}=e,y=Oe(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","visible","width"]),O=t("modal",d),g=t(),[N,I]=W(O),A=w(m,{[`${O}-centered`]:!!u,[`${O}-wrap-rtl`]:n==="rtl"});return N(i(de,{children:i(me,{status:!0,override:!0,children:i(be,{...Object.assign({width:v},y,{getContainer:c===void 0?s:c,prefixCls:O,rootClassName:w(I,l),wrapClassName:A,footer:e.footer===null?e.footer:i(Y,{...Object.assign({},e,{onOk:x,onCancel:f})}),visible:r!=null?r:h,mousePosition:(o=y.mousePosition)!==null&&o!==void 0?o:M,onClose:f,closeIcon:Q(O,b),focusTriggerAfterClose:C,transitionName:E(g,"zoom",e.transitionName),maskTransitionName:E(g,"fade",e.maskTransitionName),className:w(I,a)})})})}))},X=ke;function G(e){const{icon:o,onCancel:s,onOk:t,close:n,okText:f,okButtonProps:x,cancelText:d,cancelButtonProps:a,confirmPrefixCls:l,rootPrefixCls:r,type:m,okCancel:u,footer:c,locale:b}=e;let C=o;if(!o&&o!==null)switch(m){case"info":C=i(le,{});break;case"success":C=i(re,{});break;case"error":C=i(se,{});break;default:C=i(ne,{})}const h=e.okType||"primary",v=u!=null?u:m==="confirm",y=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[O]=R("Modal"),g=b||O,N=v&&i(z,{actionFn:s,close:n,autoFocus:y==="cancel",buttonProps:a,prefixCls:`${r}-btn`,children:d||(g==null?void 0:g.cancelText)});return S("div",{className:`${l}-body-wrapper`,children:[S("div",{className:`${l}-body`,children:[C,e.title===void 0?null:i("span",{className:`${l}-title`,children:e.title}),i("div",{className:`${l}-content`,children:e.content})]}),c!==void 0?c:S("div",{className:`${l}-btns`,children:[N,i(z,{type:h,actionFn:t,close:n,autoFocus:y==="ok",buttonProps:x,prefixCls:`${r}-btn`,children:f||(v?g==null?void 0:g.okText:g==null?void 0:g.justOkText)})]})]})}const Z=e=>{const{close:o,zIndex:s,afterClose:t,visible:n,open:f,keyboard:x,centered:d,getContainer:a,maskStyle:l,direction:r,prefixCls:m,wrapClassName:u,rootPrefixCls:c,iconPrefixCls:b,bodyStyle:C,closable:h=!1,closeIcon:v,modalRender:y,focusTriggerAfterClose:O}=e,g=`${m}-confirm`,N=e.width||416,I=e.style||{},A=e.mask===void 0?!0:e.mask,$=e.maskClosable===void 0?!1:e.maskClosable,k=w(g,`${g}-${e.type}`,{[`${g}-rtl`]:r==="rtl"},e.className);return i(ce,{prefixCls:c,iconPrefixCls:b,direction:r,children:i(X,{prefixCls:m,className:k,wrapClassName:w({[`${g}-centered`]:!!e.centered},u),onCancel:()=>o==null?void 0:o({triggerCancel:!0}),open:f,title:"",footer:"",transitionName:E(c,"zoom",e.transitionName),maskTransitionName:E(c,"fade",e.maskTransitionName),mask:A,maskClosable:$,maskStyle:l,style:I,bodyStyle:C,width:N,zIndex:s,afterClose:t,keyboard:x,centered:d,getContainer:a,closable:h,closeIcon:v,modalRender:y,focusTriggerAfterClose:O,children:i(G,{...Object.assign({},e,{confirmPrefixCls:g})})})})},je=[],j=je;var Te=globalThis&&globalThis.__rest||function(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};let q="";function we(){return q}function F(e){const o=document.createDocumentFragment();let s=Object.assign(Object.assign({},e),{close:x,open:!0}),t;function n(){for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];const m=l.some(u=>u&&u.triggerCancel);e.onCancel&&m&&e.onCancel.apply(e,[()=>{}].concat(T(l.slice(1))));for(let u=0;u<j.length;u++)if(j[u]===x){j.splice(u,1);break}Ce(o)}function f(a){var{okText:l,cancelText:r,prefixCls:m}=a,u=Te(a,["okText","cancelText","prefixCls"]);clearTimeout(t),t=setTimeout(()=>{const c=H(),{getPrefixCls:b,getIconPrefixCls:C}=ae(),h=b(void 0,we()),v=m||`${h}-modal`,y=C();ge(i(Z,{...Object.assign({},u,{prefixCls:v,rootPrefixCls:h,iconPrefixCls:y,okText:l,locale:c,cancelText:r||c.cancelText})}),o)})}function x(){for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];s=Object.assign(Object.assign({},s),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),n.apply(this,l)}}),s.visible&&delete s.visible,f(s)}function d(a){typeof a=="function"?s=a(s):s=Object.assign(Object.assign({},s),a),f(s)}return f(s),j.push(x),{destroy:x,update:d}}function J(e){return Object.assign(Object.assign({},e),{type:"warning"})}function K(e){return Object.assign(Object.assign({},e),{type:"info"})}function U(e){return Object.assign(Object.assign({},e),{type:"success"})}function V(e){return Object.assign(Object.assign({},e),{type:"error"})}function ee(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Ne(e){let{rootPrefixCls:o}=e;q=o}const $e=(e,o)=>{let{afterClose:s,config:t}=e;var n;const[f,x]=p.exports.useState(!0),[d,a]=p.exports.useState(t),{direction:l,getPrefixCls:r}=p.exports.useContext(B),m=r("modal"),u=r(),c=function(){x(!1);for(var h=arguments.length,v=new Array(h),y=0;y<h;y++)v[y]=arguments[y];const O=v.some(g=>g&&g.triggerCancel);d.onCancel&&O&&d.onCancel.apply(d,[()=>{}].concat(T(v.slice(1))))};p.exports.useImperativeHandle(o,()=>({destroy:c,update:h=>{a(v=>Object.assign(Object.assign({},v),h))}}));const b=(n=d.okCancel)!==null&&n!==void 0?n:d.type==="confirm",[C]=R("Modal",ie.Modal);return i(Z,{...Object.assign({prefixCls:m,rootPrefixCls:u},d,{close:c,open:f,afterClose:s,okText:d.okText||(b?C==null?void 0:C.okText:C==null?void 0:C.justOkText),direction:l,cancelText:d.cancelText||(C==null?void 0:C.cancelText)})})},Fe=p.exports.forwardRef($e);let _=0;const Ie=p.exports.memo(p.exports.forwardRef((e,o)=>{const[s,t]=pe();return p.exports.useImperativeHandle(o,()=>({patchElement:t}),[]),i(D,{children:s})}));function Se(){const e=p.exports.useRef(null),[o,s]=p.exports.useState([]);p.exports.useEffect(()=>{o.length&&(T(o).forEach(x=>{x()}),s([]))},[o]);const t=p.exports.useCallback(f=>function(d){var a;_+=1;const l=p.exports.createRef();let r;const m=i(Fe,{config:f(d),ref:l,afterClose:()=>{r==null||r()}},`modal-${_}`);return r=(a=e.current)===null||a===void 0?void 0:a.patchElement(m),r&&j.push(r),{destroy:()=>{function u(){var c;(c=l.current)===null||c===void 0||c.destroy()}l.current?u():s(c=>[].concat(T(c),[u]))},update:u=>{function c(){var b;(b=l.current)===null||b===void 0||b.update(u)}l.current?c():s(b=>[].concat(T(b),[c]))}}},[]);return[p.exports.useMemo(()=>({info:t(K),success:t(U),error:t(V),warning:t(J),confirm:t(ee)}),[]),i(Ie,{ref:e},"modal-holder")]}function te(e){return F(J(e))}const P=X;P.useModal=Se;P.info=function(o){return F(K(o))};P.success=function(o){return F(U(o))};P.error=function(o){return F(V(o))};P.warning=te;P.warn=te;P.confirm=function(o){return F(ee(o))};P.destroyAll=function(){for(;j.length;){const o=j.pop();o&&o()}};P.config=Ne;P._InternalPanelDoNotUseOrYouWillBeFired=he;const Ee=P;function ze({openModal:e,onOk:o,onCancel:s,children:t,title:n}){return i(Ee,{okButtonProps:{type:"default"},title:n,centered:!0,onOk:o,onCancel:s,open:e,footer:null,children:t})}export{ze as default};
