import{D}from"./dashboard.a129dcad.js";import{u as _,r as p,j as l,a as e,R as T,d as s}from"./app.73631ba0.js";import{h as d}from"./index.m.9084c204.js";import N from"./create.3cf78e16.js";import{T as O}from"./ToggleDeleteRestoreButton.f2db8753.js";import{B as h}from"./button.5cc662cd.js";import{T as R}from"./Table.b65adbcd.js";import{F as n}from"./index.49aa7bb3.js";import{I as g}from"./index.d5672ba8.js";import{I as w}from"./index.66df2c8c.js";import{D as C}from"./index.2680d660.js";import{S as k}from"./index.c22ed558.js";import"./objectWithoutPropertiesLoose.5e7699d1.js";import"./inheritsLoose.32b9908a.js";import"./setPrototypeOf.8e97647a.js";import"./ModalWithChildren.49cefe83.js";import"./type.e74db486.js";import"./AntdIcon.51bca2fb.js";import"./index.b3d31cad.js";import"./index.1c40f768.js";import"./motion.b1df7cde.js";import"./DialogWrap.1f1cd6b8.js";import"./getScrollBarSize.5d894e41.js";import"./styleChecker.46fb59ad.js";import"./Helpers.5d192827.js";import"./useMergedState.45a4d830.js";import"./useForceUpdate.316de6c7.js";import"./DeleteOutlined.eebfa004.js";import"./DownOutlined.e82692b0.js";import"./css.b293ba8f.js";import"./debounce.74a9700f.js";import"./keys.ae9a84d1.js";import"./isSymbol.550387b9.js";import"./index.f711f52f.js";import"./getDataOrAriaProps.08708643.js";import"./_baseIsEqual.ac85c38f.js";function F({variations:i,variationTypesValues:u,variationTypes:f,productId:v,storeId:y}){const I=_().props.locale,[m,x]=p.exports.useState(!1);p.exports.useState(!1),p.exports.useState(!1),p.exports.useState(0),p.exports.useState(0);const c=()=>{x(!m)},a=t=>{s.Inertia.post(d("admin.variations.restore",t.id),void 0,{preserveState:!1})},b=t=>{s.Inertia.get(d("admin.variations.edit",t.id))},S=t=>{s.Inertia.post(d("admin.variations.destroy",t.id),void 0,{preserveState:!1})},V=t=>{var r,o;return t.media?e("img",{width:50,height:50,src:(r=t.media[0])==null?void 0:r.thumbnail,alt:(o=t.media[0])==null?void 0:o.name}):e("div",{children:"nothing to show"})},A=t=>l(T.Fragment,{children:[e(O,{handleOnClickRestore:a,handleOnClickDelete:S,params:t}),e(h,{className:"mr-2",onClick:()=>b(t),children:"UPDATE"})]});return l("div",{children:[e(h,{onClick:c,children:"ADD NEW VARIATION"}),e(N,{handleAddDialog:c,openAddDialog:m,productId:v,locale:I,variationTypes:f,variationTypesValues:u,store_id:y}),e(R,{columns:[{title:"ID",dataIndex:"id",key:"id"},{title:"Image",dataIndex:"image",key:"media",render:(t,r)=>V(r)},{title:"Variation Type Value",dataIndex:"variation_type_value",key:"variation_type_value",render:(t,r)=>{var o;return e("span",{children:(o=r.variation_type_value)==null?void 0:o.value.en})}},{title:"Variation Type",dataIndex:"variation_type",key:"variation_type",render:(t,r)=>{var o;return e("span",{children:(o=r.variation_type)==null?void 0:o.type.en})}},{title:"Price",dataIndex:"price",key:"price"},{title:"Order",dataIndex:"order",key:"order",responsive:["lg"]},{title:"Deleted at",dataIndex:"deleted_at",key:"deleted_at",responsive:["lg"]},{title:"Action",dataIndex:"",key:"x",render:(t,r)=>A(r)}],rowKey:"id",dataSource:i,scroll:{x:!0}})]})}function Ie({currentProduct:i,locale:u,variationTypesValues:f,variationTypes:v,categories:y}){_().props.errors;const I=a=>{s.Inertia.post(d("admin.attach.category.to.product",i),a,{preserveState:!1})},m=a=>{s.Inertia.post(d("admin.products.update",i),a,{preserveState:!1})},x=a=>{s.Inertia.post(d("admin.detach.category.from.product",i),{id:a},{preserveState:!1})},c=i.categories.map(a=>l("div",{className:"border border-1 border-black p-1 flex space-x-1 items-center",children:[e("h1",{className:"text-left ",children:a.title.en}),e("button",{className:"cursor text-red-600",onClick:b=>x(a.id),children:"x"})]}));return e(D,{children:l("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col my-2",children:[l(n,{name:"basic",labelCol:{span:2},wrapperCol:{span:12},onFinish:m,autoComplete:"off",children:[e(n.Item,{label:"Title EN",initialValue:i.title.en,name:"en",rules:[{required:!0}],children:e(g,{})}),e(n.Item,{label:"Title AR",name:"ar",initialValue:i.title.ar,rules:[{required:!0}],children:e(g,{})}),e(n.Item,{label:"Price",initialValue:i.price,name:"price",rules:[{required:!0,min:0,max:1e5}],children:e(w,{})}),e(n.Item,{wrapperCol:{offset:2,span:1},children:e(h,{type:"default",htmlType:"submit",children:"Submit"})})]}),e(C,{}),l("div",{className:"container py-3 flex space-x-1 items-center",children:[e("h1",{children:"Currently Attached Categories :"}),c]}),l(n,{className:"basis-1/4",onFinish:I,labelCol:{span:2},wrapperCol:{span:12},children:[e(n.Item,{name:"id",label:"Attach to Category",children:e(k,{mode:"multiple",placeholder:"Select a category from above",allowClear:!0,children:y.map(a=>e(k.Option,{value:a.id,children:a.title[u]},a.id))})}),e(n.Item,{className:"ml-2",children:e(h,{type:"default",htmlType:"submit",children:"Submit"})})]}),e(C,{}),e(F,{variations:i.variations,storeId:i.store_id,variationTypes:v,variationTypesValues:f,productId:i.id})]})})}export{Ie as default};
