import{u as N,r as u,a as n,j as e,b as R,d as c}from"./app.a2833a7e.js";import B from"./dashboard.8e9247ba.js";import{h as m}from"./keys.854197f4.js";import U from"./create.3cf0add2.js";import{T as j}from"./ToggleDeleteRestoreButton.20ff0c9f.js";import{B as h}from"./styleChecker.ccce6752.js";import{T as w,S as K}from"./Table.bf9c410b.js";import O from"./ModalWithChildren.522ebe0d.js";import{F as t}from"./index.344dbd91.js";import{I as p}from"./index.0b76f977.js";import{D as A}from"./index.6957c6c8.js";import{S as f}from"./index.2660bf13.js";import{E as L}from"./EditOutlined.4d1fc552.js";import{D as W}from"./DeleteOutlined.c2fd6cf8.js";import"./index.0579b088.js";import"./Helpers.2b405b0f.js";import"./useForceUpdate.5407dd5c.js";import"./getScrollBarSize.fc7e30fe.js";import"./index.bd91d0ef.js";import"./css.6f61e22c.js";import"./DialogWrap.96d271a4.js";function z({variations:l,variationTypesValues:x,variationTypes:g,productId:S,storeId:k}){const I=N().props.locale,[y,v]=u.exports.useState(!1);u.exports.useState(!1),u.exports.useState(!1),u.exports.useState(0),u.exports.useState(0);const C=()=>{v(!y)},b=i=>{c.Inertia.post(m("admin.variations.restore",i.id),void 0,{preserveState:!1})},r=i=>{c.Inertia.get(m("admin.variations.edit",i.id))},V=i=>{c.Inertia.post(m("admin.variations.destroy",i.id),void 0,{preserveState:!1})},_=i=>{var d,s;return i.media?e("img",{width:50,height:50,src:(d=i.media[0])==null?void 0:d.thumbnail,alt:(s=i.media[0])==null?void 0:s.name}):e("div",{children:"nothing to show"})},D=i=>n(R.Fragment,{children:[e(j,{handleOnClickRestore:b,handleOnClickDelete:V,params:i}),e(h,{className:"mr-2",onClick:()=>r(i),children:"UPDATE"})]});return n("div",{children:[e(h,{onClick:C,children:"ADD NEW VARIATION"}),e(U,{handleAddDialog:C,openAddDialog:y,productId:S,locale:I,variationTypes:g,variationTypesValues:x,store_id:k}),e(w,{columns:[{title:"ID",dataIndex:"id",key:"id"},{title:"Image",dataIndex:"image",key:"media",render:(i,d)=>_(d)},{title:"Variation Type Value",dataIndex:"variation_type_value",key:"variation_type_value",render:(i,d)=>{var s;return e("span",{children:(s=d.variation_type_value)==null?void 0:s.value.en})}},{title:"Variation Type",dataIndex:"variation_type",key:"variation_type",render:(i,d)=>{var s;return e("span",{children:(s=d.variation_type)==null?void 0:s.type.en})}},{title:"Price",dataIndex:"price",key:"price"},{title:"Order",dataIndex:"order",key:"order",responsive:["lg"]},{title:"Deleted at",dataIndex:"deleted_at",key:"deleted_at",responsive:["lg"]},{title:"Action",dataIndex:"",key:"x",render:(i,d)=>D(d)}],rowKey:"id",dataSource:l,scroll:{x:!0}})]})}function me({currentProduct:l,locale:x,variationTypesValues:g,variationTypes:S,categories:k,attributes:I}){const[y,v]=u.exports.useState(!1),[C,b]=u.exports.useState(!1),[r,V]=u.exports.useState();N().props.errors;const _=a=>{c.Inertia.post(m("admin.attach.category.to.product",l),a,{preserveState:!1})},D=a=>{c.Inertia.post(m("admin.products.update",l),a,{preserveState:!1})},T=a=>{c.Inertia.post(m("admin.detach.category.from.product",l),{id:a},{preserveState:!1})},i=a=>{v(!0),V(a)},d=a=>{c.Inertia.post(m("admin.add.product.description"),a,{preserveState:!1})},s=a=>{c.Inertia.post(m("admin.update.product.description",{id:a.id}),a,{preserveState:!1})},E=a=>{c.Inertia.post(m("admin.delete.product.description",{id:a}),void 0,{preserveState:!1})},F=l.categories.map(a=>n("div",{className:"border border-1 border-black p-1 flex space-x-1 items-center",children:[e("h1",{className:"text-left ",children:a.title.en}),e("button",{className:"cursor text-red-600",onClick:o=>T(a.id),children:"x"})]})),q=[{key:"id",title:"ID",dataIndex:"id"},{key:"attribute",title:"Description Title",dataIndex:"attribute",render:(a,o)=>e("span",{children:o.attribute.attribute.en})},{key:"value",title:"Description Title EN",dataIndex:"value",render:(a,o)=>e("span",{children:o.value.en})},{key:"value",title:"Description Title AR",dataIndex:"value",render:(a,o)=>e("span",{children:o.value.ar})},{title:"Action",key:"action",render:(a,o)=>n(K,{size:"middle",children:[e(L,{onClick:M=>i(o)}),e(W,{onClick:M=>E(o.id)})]})}];return e(B,{children:n("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col my-2",children:[n(t,{name:"basic",labelCol:{span:2},wrapperCol:{span:12},onFinish:D,autoComplete:"off",children:[e(t.Item,{label:"Title EN",initialValue:l.title.en,name:"en",rules:[{required:!0}],children:e(p,{})}),e(t.Item,{label:"Title AR",name:"ar",initialValue:l.title.ar,rules:[{required:!0}],children:e(p,{})}),e(t.Item,{label:"Price",initialValue:l.price,name:"price",rules:[{required:!0}],children:e(p,{})}),e(t.Item,{wrapperCol:{offset:2,span:1},children:e(h,{type:"default",htmlType:"submit",children:"Submit"})})]}),e(A,{}),n("div",{className:"flex flex-1",children:[n("div",{className:"basis-1/3",children:[n("div",{className:"container py-3 flex space-x-1 items-center",children:[e("h1",{children:"Currently Attached Categories :"}),F]}),n(t,{onFinish:_,wrapperCol:{span:12},children:[e(t.Item,{name:"id",children:e(f,{mode:"multiple",placeholder:"Select a category",allowClear:!0,children:k.map(a=>e(f.Option,{value:a.id,children:a.title[x]},a.id))})}),e(t.Item,{className:"ml-2",children:e(h,{type:"default",htmlType:"submit",children:"Submit"})})]})]}),n("div",{className:"basis-2/3",children:[e(h,{onClick:()=>b(!0),children:"create new record"}),e(A,{}),e(w,{scroll:{x:!0},rowKey:"id",columns:q,dataSource:l.description})]})]}),e(A,{}),e(z,{variations:l.variations,storeId:l.store_id,variationTypes:S,variationTypesValues:g,productId:l.id}),e(O,{openModal:y,onOk:()=>v(!1),onCancel:()=>v(!1),children:n(t,{className:"p-5",name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:s,children:[e(t.Item,{name:"id",label:"select attribute",children:e(f,{placeholder:"Select a Attribute",defaultValue:r==null?void 0:r.attribute.id,allowClear:!0,children:I.map(a=>e(f.Option,{value:a.id,children:a.attribute.en},a.id))})}),e(t.Item,{hidden:!0,label:"id",initialValue:r==null?void 0:r.id,name:"id",children:e(p,{})}),e(t.Item,{label:"Value English",initialValue:r==null?void 0:r.value.en,name:"en",rules:[{required:!0,message:"Please fill the value please"}],children:e(p,{})}),e(t.Item,{label:"Value Arabic",initialValue:r==null?void 0:r.value.ar,name:"ar",rules:[{required:!0,message:"Please fill the value please"}],children:e(p,{})}),e(t.Item,{wrapperCol:{offset:8,span:16},children:e(h,{type:"default",htmlType:"submit",children:"Submit"})})]})}),e(O,{openModal:C,onOk:()=>b(!1),onCancel:()=>b(!1),children:n(t,{className:"p-5",name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:d,children:[e(t.Item,{name:"product_attribute_id",label:"select attribute",children:e(f,{placeholder:"Select a Attribute",allowClear:!0,children:I.map(a=>e(f.Option,{value:a.id,children:a.attribute.en},a.id))})}),e(t.Item,{hidden:!0,initialValue:l.id,label:"product_id",name:"product_id",children:e(p,{})}),e(t.Item,{label:"Value English",name:"en",rules:[{required:!0,message:"Please fill the value please"}],children:e(p,{})}),e(t.Item,{label:"Value Arabic",name:"ar",rules:[{required:!0,message:"Please fill the value please"}],children:e(p,{})}),e(t.Item,{wrapperCol:{offset:8,span:16},children:e(h,{type:"default",htmlType:"submit",children:"Submit"})})]})})]})})}export{me as default};
