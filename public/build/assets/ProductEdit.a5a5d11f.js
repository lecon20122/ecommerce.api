import{u as N,r as u,a as n,j as e,b as R,d as c}from"./app.56da471f.js";import B from"./dashboard.bfb68188.js";import{h as m}from"./keys.7bb37b1f.js";import U from"./create.021321ae.js";import{T as j}from"./ToggleDeleteRestoreButton.5adfbfea.js";import{B as h}from"./button.4b1e9a05.js";import{T as w,S as K}from"./Table.52533cc4.js";import O from"./ModalWithChildren.2affabce.js";import{F as a}from"./index.efa81136.js";import{I as p}from"./index.3524eded.js";import{D as A}from"./index.710a37c0.js";import{S as f}from"./index.c608d6f9.js";import{E as L}from"./EditOutlined.c3665b35.js";import{D as W}from"./DeleteOutlined.ef57b09f.js";import"./should-render.b9f42ae0.js";import"./index.0579b088.js";import"./index.556052ad.js";import"./Helpers.43bed749.js";import"./AntdIcon.d0aa761c.js";import"./DownOutlined.20cc1de1.js";import"./getScrollBarSize.dcb513b9.js";import"./motion.1ccd3e55.js";import"./type.6a307fc1.js";import"./styleChecker.a540f3b2.js";import"./index.6837ef6a.js";import"./EyeOutlined.af4b801b.js";import"./useForceUpdate.de1e8eb6.js";import"./css.abe27269.js";import"./debounce.7785b830.js";import"./index.c4e8524c.js";import"./getDataOrAriaProps.c03198e8.js";import"./DialogWrap.031fc3b0.js";function z({variations:l,variationTypesValues:x,variationTypes:g,productId:S,storeId:k}){const I=N().props.locale,[y,v]=u.exports.useState(!1);u.exports.useState(!1),u.exports.useState(!1),u.exports.useState(0),u.exports.useState(0);const C=()=>{v(!y)},b=i=>{c.Inertia.post(m("admin.variations.restore",i.id),void 0,{preserveState:!1})},r=i=>{c.Inertia.get(m("admin.variations.edit",i.id))},V=i=>{c.Inertia.post(m("admin.variations.destroy",i.id),void 0,{preserveState:!1})},_=i=>{var d,o;return i.media?e("img",{width:50,height:50,src:(d=i.media[0])==null?void 0:d.thumbnail,alt:(o=i.media[0])==null?void 0:o.name}):e("div",{children:"nothing to show"})},D=i=>n(R.Fragment,{children:[e(j,{handleOnClickRestore:b,handleOnClickDelete:V,params:i}),e(h,{className:"mr-2",onClick:()=>r(i),children:"UPDATE"})]});return n("div",{children:[e(h,{onClick:C,children:"ADD NEW VARIATION"}),e(U,{handleAddDialog:C,openAddDialog:y,productId:S,locale:I,variationTypes:g,variationTypesValues:x,store_id:k}),e(w,{columns:[{title:"ID",dataIndex:"id",key:"id"},{title:"Image",dataIndex:"image",key:"media",render:(i,d)=>_(d)},{title:"Variation Type Value",dataIndex:"variation_type_value",key:"variation_type_value",render:(i,d)=>{var o;return e("span",{children:(o=d.variation_type_value)==null?void 0:o.value.en})}},{title:"Variation Type",dataIndex:"variation_type",key:"variation_type",render:(i,d)=>{var o;return e("span",{children:(o=d.variation_type)==null?void 0:o.type.en})}},{title:"Price",dataIndex:"price",key:"price"},{title:"Order",dataIndex:"order",key:"order",responsive:["lg"]},{title:"Deleted at",dataIndex:"deleted_at",key:"deleted_at",responsive:["lg"]},{title:"Action",dataIndex:"",key:"x",render:(i,d)=>D(d)}],rowKey:"id",dataSource:l,scroll:{x:!0}})]})}function Se({currentProduct:l,locale:x,variationTypesValues:g,variationTypes:S,categories:k,attributes:I}){const[y,v]=u.exports.useState(!1),[C,b]=u.exports.useState(!1),[r,V]=u.exports.useState();N().props.errors;const _=t=>{c.Inertia.post(m("admin.attach.category.to.product",l),t,{preserveState:!1})},D=t=>{c.Inertia.post(m("admin.products.update",l),t,{preserveState:!1})},T=t=>{c.Inertia.post(m("admin.detach.category.from.product",l),{id:t},{preserveState:!1})},i=t=>{v(!0),V(t)},d=t=>{c.Inertia.post(m("admin.add.product.description"),t,{preserveState:!1})},o=t=>{c.Inertia.post(m("admin.update.product.description",{id:t.id}),t,{preserveState:!1})},E=t=>{c.Inertia.post(m("admin.delete.product.description",{id:t}),void 0,{preserveState:!1})},F=l.categories.map(t=>n("div",{className:"border border-1 border-black p-1 flex space-x-1 items-center",children:[e("h1",{className:"text-left ",children:t.title.en}),e("button",{className:"cursor text-red-600",onClick:s=>T(t.id),children:"x"})]})),q=[{key:"id",title:"ID",dataIndex:"id"},{key:"attribute",title:"Description Title",dataIndex:"attribute",render:(t,s)=>e("span",{children:s.attribute.attribute.en})},{key:"value",title:"Description Title EN",dataIndex:"value",render:(t,s)=>e("span",{children:s.value.en})},{key:"value",title:"Description Title AR",dataIndex:"value",render:(t,s)=>e("span",{children:s.value.ar})},{title:"Action",key:"action",render:(t,s)=>n(K,{size:"middle",children:[e(L,{onClick:M=>i(s)}),e(W,{onClick:M=>E(s.id)})]})}];return e(B,{children:n("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col my-2",children:[n(a,{name:"basic",labelCol:{span:2},wrapperCol:{span:12},onFinish:D,autoComplete:"off",children:[e(a.Item,{label:"Title EN",initialValue:l.title.en,name:"en",rules:[{required:!0}],children:e(p,{})}),e(a.Item,{label:"Title AR",name:"ar",initialValue:l.title.ar,rules:[{required:!0}],children:e(p,{})}),e(a.Item,{label:"Price",initialValue:l.price,name:"price",rules:[{required:!0}],children:e(p,{})}),e(a.Item,{wrapperCol:{offset:2,span:1},children:e(h,{type:"default",htmlType:"submit",children:"Submit"})})]}),e(A,{}),n("div",{className:"flex flex-1",children:[n("div",{className:"basis-1/3",children:[n("div",{className:"container py-3 flex space-x-1 items-center",children:[e("h1",{children:"Currently Attached Categories :"}),F]}),n(a,{onFinish:_,wrapperCol:{span:12},children:[e(a.Item,{name:"id",children:e(f,{mode:"multiple",placeholder:"Select a category",allowClear:!0,children:k.map(t=>e(f.Option,{value:t.id,children:t.title[x]},t.id))})}),e(a.Item,{className:"ml-2",children:e(h,{type:"default",htmlType:"submit",children:"Submit"})})]})]}),n("div",{className:"basis-2/3",children:[e(h,{onClick:()=>b(!0),children:"create new record"}),e(A,{}),e(w,{scroll:{x:!0},rowKey:"id",columns:q,dataSource:l.description})]})]}),e(A,{}),e(z,{variations:l.variations,storeId:l.store_id,variationTypes:S,variationTypesValues:g,productId:l.id}),e(O,{openModal:y,onOk:()=>v(!1),onCancel:()=>v(!1),children:n(a,{className:"p-5",name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:o,children:[e(a.Item,{name:"id",label:"select attribute",children:e(f,{placeholder:"Select a Attribute",defaultValue:r==null?void 0:r.attribute.id,allowClear:!0,children:I.map(t=>e(f.Option,{value:t.id,children:t.attribute.en},t.id))})}),e(a.Item,{hidden:!0,label:"id",initialValue:r==null?void 0:r.id,name:"id",children:e(p,{})}),e(a.Item,{label:"Value English",initialValue:r==null?void 0:r.value.en,name:"en",rules:[{required:!0,message:"Please fill the value please"}],children:e(p,{})}),e(a.Item,{label:"Value Arabic",initialValue:r==null?void 0:r.value.ar,name:"ar",rules:[{required:!0,message:"Please fill the value please"}],children:e(p,{})}),e(a.Item,{wrapperCol:{offset:8,span:16},children:e(h,{type:"default",htmlType:"submit",children:"Submit"})})]})}),e(O,{openModal:C,onOk:()=>b(!1),onCancel:()=>b(!1),children:n(a,{className:"p-5",name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:d,children:[e(a.Item,{name:"product_attribute_id",label:"select attribute",children:e(f,{placeholder:"Select a Attribute",allowClear:!0,children:I.map(t=>e(f.Option,{value:t.id,children:t.attribute.en},t.id))})}),e(a.Item,{hidden:!0,initialValue:l.id,label:"product_id",name:"product_id",children:e(p,{})}),e(a.Item,{label:"Value English",name:"en",rules:[{required:!0,message:"Please fill the value please"}],children:e(p,{})}),e(a.Item,{label:"Value Arabic",name:"ar",rules:[{required:!0,message:"Please fill the value please"}],children:e(p,{})}),e(a.Item,{wrapperCol:{offset:8,span:16},children:e(h,{type:"default",htmlType:"submit",children:"Submit"})})]})})]})})}export{Se as default};
