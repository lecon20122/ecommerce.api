import{r as l,u as S,j as d,a as e,R as j,d as f}from"./app.88342cf7.js";import{D as H}from"./dashboard.7b8f4a9f.js";import{h as I}from"./index.m.9084c204.js";import{u as b}from"./index.esm.345b83e7.js";import{M as K}from"./MediaProductCollection.2547c6e8.js";import A from"./create.3012b0d5.js";import{T as M}from"./ToggleDeleteRestoreButton.5c9a7e49.js";import{B as s}from"./button.804a8ef9.js";import{T as V}from"./Table.42f0d7a4.js";import{U as P}from"./UploadImageComponent.233cfd17.js";import{F as o}from"./index.7d395ffc.js";import{I as g}from"./index.30aa6b95.js";import{I as W}from"./index.cb251b61.js";import{D as x}from"./index.78fd7eff.js";import{S as k}from"./index.4b92cc22.js";import"./objectWithoutPropertiesLoose.85055a0f.js";import"./inheritsLoose.d6f0d462.js";import"./index.fccd58a9.js";import"./index.f94bfe6c.js";import"./index.1c40f768.js";import"./index.b3d31cad.js";import"./EyeOutlined.9d16d23e.js";import"./css.b86cb22f.js";import"./DialogWrap.5a7978a5.js";import"./motion.d40de756.js";import"./type.8450bd56.js";import"./getScrollBarSize.45ad19cd.js";import"./ModalWithChildren.1edfcdd0.js";import"./styleChecker.86ed0b0a.js";import"./Helpers.4a1526b9.js";import"./index.551dd618.js";import"./useForceUpdate.a22b6faa.js";import"./DeleteOutlined.9d0edcb4.js";import"./debounce.8e42cb22.js";import"./keys.a205b229.js";import"./toNumber.00d4ae1a.js";import"./isSymbol.f963ec32.js";import"./index.225237e6.js";import"./getDataOrAriaProps.08708643.js";import"./_baseIsEqual.841a8377.js";function z({variations:i,variationTypesValues:m,variationTypes:p,productId:c}){l.exports.useState([]);const h=S().props.locale,[u,y]=l.exports.useState(!1),[a,C]=l.exports.useState(!1),[G,_]=l.exports.useState(!1),[T,N]=l.exports.useState(0),[J,O]=l.exports.useState(0),v=()=>{y(!u)},R=t=>{N(t.id),C(!a)},E=t=>{_(!0),O(t.id)},F=t=>{f.Inertia.post(I("admin.variations.restore",t.id),void 0,{preserveState:!1})},w=t=>{f.Inertia.get(I("admin.variations.edit",t.id))},L=t=>{f.Inertia.post(I("admin.variations.destroy",t.id),void 0,{preserveState:!1})},B=t=>{var r,n;return t.media?e("img",{width:50,height:50,src:(r=t.media[0])==null?void 0:r.thumbnail,alt:(n=t.media[0])==null?void 0:n.name}):e("div",{children:"nothing to show"})},U=t=>d(j.Fragment,{children:[e(M,{handleOnClickRestore:F,handleOnClickDelete:L,params:t}),e(s,{className:"mr-2",onClick:()=>R(t),children:"NEW"}),e(s,{className:"mr-2",onClick:()=>w(t),children:"UPDATE"}),e(s,{className:"mr-2",onClick:()=>E(t),children:"HARD DELETE"})]}),q=t=>e(V,{columns:D,rowKey:"id",dataSource:t.children,pagination:!1,scroll:{x:!0}}),D=[{title:"ID",dataIndex:"id",key:"id"},{title:"Image",dataIndex:"image",key:"media",render:(t,r)=>B(r)},{title:"Variation Type Value",dataIndex:"variation_type_value",key:"variation_type_value",render:(t,r)=>{var n;return e("span",{children:(n=r.variation_type_value)==null?void 0:n.value.en})}},{title:"Variation Type",dataIndex:"variation_type",key:"variation_type",render:(t,r)=>{var n;return e("span",{children:(n=r.variation_type)==null?void 0:n.type.en})}},{title:"Price",dataIndex:"price",key:"price"},{title:"Order",dataIndex:"order",key:"order"},{title:"Deleted at",dataIndex:"deleted_at",key:"deleted_at"},{title:"Action",dataIndex:"",key:"x",render:(t,r)=>U(r)}];return d("div",{children:[e(s,{onClick:v,children:"ADD NEW VARIATION"}),e(A,{handleAddDialog:v,openAddDialog:u,productId:c,locale:h,variationTypes:p,variationTypesValues:m}),e(A,{handleAddDialog:()=>C(!1),openAddDialog:a,parentId:T,productId:c,locale:h,variationTypes:p,variationTypesValues:m}),e(V,{columns:D,rowKey:"id",dataSource:i,expandable:{expandedRowRender:t=>q(t)},scroll:{x:!0}})]})}function we({currentProduct:i,locale:m,variationTypesValues:p,variationTypes:c,categories:h}){console.log(i),b({mode:"onChange"}),l.exports.useState([]),b(),S().props.errors;const u=a=>{f.Inertia.post(I("admin.attach.category.to.product",i),a,{preserveState:!1})};return e(H,{children:d("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col my-2",children:[d(o,{name:"basic",labelCol:{span:2},wrapperCol:{span:12},onFinish:a=>{console.log(a)},autoComplete:"off",children:[e(o.Item,{label:"Title EN",initialValue:i.title.en,name:"en",rules:[{required:!0}],children:e(g,{})}),e(o.Item,{label:"Title AR",name:"ar",initialValue:i.title.ar,rules:[{required:!0}],children:e(g,{})}),e(o.Item,{label:"Description",initialValue:i.description,name:"description",rules:[{required:!0}],children:e(g,{})}),e(o.Item,{label:"Price",initialValue:i.price,name:"price",rules:[{required:!0,type:"integer",min:0,max:1e5}],children:e(W,{})}),e(o.Item,{wrapperCol:{offset:2,span:1},children:e(s,{type:"default",htmlType:"submit",children:"Submit"})})]}),e(x,{}),d("div",{children:[e(K,{media:i.media,deleteURL:"admin.delete.media.of.product",params:i}),e(P,{buttonLabel:"UPLOAD",routeName:"admin.add.media.to.product",params:i})]}),e(x,{}),d(o,{className:"basis-1/4",onFinish:u,labelCol:{span:2},wrapperCol:{span:12},children:[e(o.Item,{name:"id",label:"Attach to Category",children:e(k,{mode:"multiple",placeholder:"Select a category from above",allowClear:!0,children:h.map(a=>e(k.Option,{value:a.id,children:a.title[m]},a.id))})}),e(o.Item,{className:"ml-2",children:e(s,{type:"default",htmlType:"submit",children:"Submit"})})]}),e(x,{}),e(z,{variations:i.variations,variationTypes:c,variationTypesValues:p,productId:i.id})]})})}export{we as default};
