import{r as l,u as _,j as d,a as e,R as H,d as I}from"./app.e6fa22bf.js";import{D as K}from"./dashboard.5083bf97.js";import{h as g}from"./index.m.9084c204.js";import{u as A}from"./index.esm.86e63600.js";import{M}from"./MediaProductCollection.d9c02c41.js";import V from"./create.1632eee1.js";import{T as W}from"./ToggleDeleteRestoreButton.abf24354.js";import{B as s}from"./button.6e91c681.js";import{T as k}from"./Table.68438b81.js";import{U as P}from"./UploadImageComponent.ec2266eb.js";import{F as r}from"./index.e076dcb0.js";import{I as x}from"./index.7c398f6c.js";import{I as z}from"./index.a726347a.js";import{D as y}from"./index.e0f9eba6.js";import{S}from"./index.3c77dd4d.js";import"./objectWithoutPropertiesLoose.53a6c3cb.js";import"./inheritsLoose.06c72c92.js";import"./index.7405d435.js";import"./index.0e25eb05.js";import"./index.1c40f768.js";import"./index.b3d31cad.js";import"./EyeOutlined.7350708f.js";import"./type.d0b5a5ac.js";import"./css.1c51d62e.js";import"./DialogWrap.ef06641b.js";import"./motion.abf9acb4.js";import"./getScrollBarSize.88800c8f.js";import"./ModalWithChildren.a3b19e80.js";import"./styleChecker.87d5c37f.js";import"./Helpers.06543a8e.js";import"./index.38b323ca.js";import"./useForceUpdate.55750436.js";import"./DeleteOutlined.0a1f7d18.js";import"./debounce.c583c7ff.js";import"./keys.9ed75caf.js";import"./toNumber.3576389f.js";import"./isSymbol.a72f8a83.js";import"./getDataOrAriaProps.08708643.js";import"./DownOutlined.d98a1b88.js";import"./_baseIsEqual.4c8a3145.js";function G({variations:i,variationTypesValues:m,variationTypes:p,productId:c,storeId:h}){l.exports.useState([]);const u=_().props.locale,[f,v]=l.exports.useState(!1),[a,C]=l.exports.useState(!1),[J,T]=l.exports.useState(!1),[N,O]=l.exports.useState(0),[Q,E]=l.exports.useState(0),D=()=>{v(!f)},R=t=>{O(t.id),C(!a)},F=t=>{T(!0),E(t.id)},w=t=>{I.Inertia.post(g("admin.variations.restore",t.id),void 0,{preserveState:!1})},L=t=>{I.Inertia.get(g("admin.variations.edit",t.id))},B=t=>{I.Inertia.post(g("admin.variations.destroy",t.id),void 0,{preserveState:!1})},U=t=>{var o,n;return t.media?e("img",{width:50,height:50,src:(o=t.media[0])==null?void 0:o.thumbnail,alt:(n=t.media[0])==null?void 0:n.name}):e("div",{children:"nothing to show"})},q=t=>d(H.Fragment,{children:[e(W,{handleOnClickRestore:w,handleOnClickDelete:B,params:t}),e(s,{className:"mr-2",onClick:()=>R(t),children:"NEW"}),e(s,{className:"mr-2",onClick:()=>L(t),children:"UPDATE"}),e(s,{className:"mr-2",onClick:()=>F(t),children:"HARD DELETE"})]}),j=t=>e(k,{columns:b,rowKey:"id",dataSource:t.children,pagination:!1,scroll:{x:!0}}),b=[{title:"ID",dataIndex:"id",key:"id"},{title:"Image",dataIndex:"image",key:"media",render:(t,o)=>U(o)},{title:"Variation Type Value",dataIndex:"variation_type_value",key:"variation_type_value",render:(t,o)=>{var n;return e("span",{children:(n=o.variation_type_value)==null?void 0:n.value.en})}},{title:"Variation Type",dataIndex:"variation_type",key:"variation_type",render:(t,o)=>{var n;return e("span",{children:(n=o.variation_type)==null?void 0:n.type.en})}},{title:"Price",dataIndex:"price",key:"price"},{title:"Order",dataIndex:"order",key:"order"},{title:"Deleted at",dataIndex:"deleted_at",key:"deleted_at"},{title:"Action",dataIndex:"",key:"x",render:(t,o)=>q(o)}];return d("div",{children:[e(s,{onClick:D,children:"ADD NEW VARIATION"}),e(V,{handleAddDialog:D,openAddDialog:f,productId:c,locale:u,variationTypes:p,variationTypesValues:m,store_id:h}),e(V,{handleAddDialog:()=>C(!1),openAddDialog:a,parentId:N,productId:c,locale:u,variationTypes:p,variationTypesValues:m,store_id:h}),e(k,{columns:b,rowKey:"id",dataSource:i,expandable:{expandedRowRender:t=>j(t)},scroll:{x:!0}})]})}function Le({currentProduct:i,locale:m,variationTypesValues:p,variationTypes:c,categories:h}){console.log(i),A({mode:"onChange"}),l.exports.useState([]),A();const u=_().props.errors;console.log(u);const f=a=>{I.Inertia.post(g("admin.attach.category.to.product",i),a,{preserveState:!1})};return e(K,{children:d("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col my-2",children:[d(r,{name:"basic",labelCol:{span:2},wrapperCol:{span:12},onFinish:a=>{console.log(a)},autoComplete:"off",children:[e(r.Item,{label:"Title EN",initialValue:i.title.en,name:"en",rules:[{required:!0}],children:e(x,{})}),e(r.Item,{label:"Title AR",name:"ar",initialValue:i.title.ar,rules:[{required:!0}],children:e(x,{})}),e(r.Item,{label:"Description",initialValue:i.description,name:"description",rules:[{required:!0}],children:e(x,{})}),e(r.Item,{label:"Price",initialValue:i.price,name:"price",rules:[{required:!0,type:"integer",min:0,max:1e5}],children:e(z,{})}),e(r.Item,{wrapperCol:{offset:2,span:1},children:e(s,{type:"default",htmlType:"submit",children:"Submit"})})]}),e(y,{}),d("div",{children:[e(M,{media:i.media,deleteURL:"admin.delete.media.of.product",params:i}),e(P,{buttonLabel:"UPLOAD",routeName:"admin.add.media.to.product",params:i})]}),e(y,{}),d(r,{className:"basis-1/4",onFinish:f,labelCol:{span:2},wrapperCol:{span:12},children:[e(r.Item,{name:"id",label:"Attach to Category",children:e(S,{mode:"multiple",placeholder:"Select a category from above",allowClear:!0,children:h.map(a=>e(S.Option,{value:a.id,children:a.title[m]},a.id))})}),e(r.Item,{className:"ml-2",children:e(s,{type:"default",htmlType:"submit",children:"Submit"})})]}),e(y,{}),e(G,{variations:i.variations,storeId:i.store_id,variationTypes:c,variationTypesValues:p,productId:i.id})]})})}export{Le as default};
