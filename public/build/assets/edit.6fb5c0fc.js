import{r as I,j as e,a as b,d as S}from"./app.729b6301.js";import{f as F,D as T}from"./dashboard.ace78741.js";import{h as y}from"./index.m.9084c204.js";import{b as L,u as R,F as M}from"./index.esm.6ea3c5b9.js";import{F as _}from"./index.es.c9fecc0d.js";import{I as w,a as G}from"./ImageListItem.cc7b0798.js";import{I as $}from"./ImageListItemBar.7be13d61.js";import{B as C}from"./Button.e586ca86.js";import{M as D}from"./MenuItem.d923c769.js";import{_ as f,a as P}from"./objectWithoutPropertiesLoose.d29fb19f.js";import{c as V,a as j,b as N,u as U,d as z,e as B,g as A}from"./useThemeProps.60f0af7c.js";import{T as k,S as E}from"./TextField.b2584131.js";import"./portal.esm.8b3bea6b.js";import"./assertThisInitialized.6716b1bb.js";import"./isMuiElement.f837451b.js";const O=V(),q=O,H=["className","component","disableGutters","fixed","maxWidth","classes"],J=j(),K=q("div",{name:"MuiContainer",slot:"Root",overridesResolver:(a,s)=>{const{ownerState:n}=a;return[s.root,s[`maxWidth${N(String(n.maxWidth))}`],n.fixed&&s.fixed,n.disableGutters&&s.disableGutters]}}),Q=a=>U({props:a,name:"MuiContainer",defaultTheme:J}),X=(a,s)=>{const n=d=>A(s,d),{classes:l,fixed:o,disableGutters:c,maxWidth:t}=a,i={root:["root",t&&`maxWidth${N(String(t))}`,o&&"fixed",c&&"disableGutters"]};return B(i,n,l)};function Y(a={}){const{createStyledComponent:s=K,useThemeProps:n=Q,componentName:l="MuiContainer"}=a,o=s(({theme:t,ownerState:i})=>f({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!i.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}),({theme:t,ownerState:i})=>i.fixed&&Object.keys(t.breakpoints.values).reduce((d,m)=>{const p=m,u=t.breakpoints.values[p];return u!==0&&(d[t.breakpoints.up(p)]={maxWidth:`${u}${t.breakpoints.unit}`}),d},{}),({theme:t,ownerState:i})=>f({},i.maxWidth==="xs"&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},i.maxWidth&&i.maxWidth!=="xs"&&{[t.breakpoints.up(i.maxWidth)]:{maxWidth:`${t.breakpoints.values[i.maxWidth]}${t.breakpoints.unit}`}}));return I.exports.forwardRef(function(i,d){const m=n(i),{className:p,component:u="div",disableGutters:x=!1,fixed:g=!1,maxWidth:W="lg"}=m,h=P(m,H),r=f({},m,{component:u,disableGutters:x,fixed:g,maxWidth:W}),v=X(r,l);return e(o,f({as:u,ownerState:r,className:z(v.root,p),ref:d},h))})}const Z=Y(),ee=Z;function ae({currentCategory:a}){const{register:s,setValue:n}=L(),l=(o,c)=>{n("image_id",c)};return a.thumbnail?e(w,{className:"ml-5",cols:1,children:a.thumbnail&&b(G,{children:[e("img",{src:a.thumbnail.thumbnail,alt:a.thumbnail.name,loading:"lazy"}),e($,{title:a.thumbnail.name,actionIcon:e("div",{children:b(C,{variant:"contained",size:"small",component:"label",onClick:o=>l(o,a.thumbnail.id),children:[e(_,{icon:F})," ",e("span",{className:"ml-2",children:"Change Image"}),e("input",{...s("images"),type:"file",name:"images",hidden:!0})]})})})]})}):e(C,{variant:"contained",component:"label",children:e("input",{...s("images"),type:"file",name:"images"})})}function xe({currentCategory:a,locale:s,categories:n}){var h;console.log(a);const l=R({mode:"onChange"}),{register:o,handleSubmit:c,formState:{errors:t,isDirty:i,isValid:d},getValues:m,reset:p}=l,[u,x]=I.exports.useState(!0),g=n.map(r=>e(D,{value:r.id,children:r.title[s]},r.id));return e(T,{children:e(ee,{fixed:!0,children:e("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col my-2",children:e(M,{...l,children:b("form",{onSubmit:c(r=>{const v={...r};S.Inertia.post(y("admin.categories.update",a),v,{preserveState:!1}),p(m())}),encType:"multipart/form-data",children:[b("div",{className:"-mx-3 md:flex mb-6",children:[e("div",{className:"md:w-1/3 px-3 mb-6 md:mb-0",children:e(k,{...o("ar"),name:"ar",fullWidth:!0,label:"Category Title AR",defaultValue:a.title.ar})}),e("div",{className:"md:w-1/3 px-3 mb-6 md:mb-0",children:e(k,{...o("en"),name:"en",fullWidth:!0,label:"Category Title EN",defaultValue:a.title.en,placeholder:a.title.en})}),e("div",{className:"md:w-1/3 px-3",children:e(E,{margin:"dense",...o("parent_id"),name:"parent_id",fullWidth:!0,autoFocus:!0,onChange:r=>x(!0),defaultValue:(h=a.parent_id)!=null?h:"",children:g})})]}),e("div",{className:"-mx-3 md:flex mb-6",children:e(ae,{currentCategory:a})}),e("div",{className:"flex gap-2",children:e(C,{disabled:!i||!d,type:"submit",color:"primary",variant:"contained",children:"save changes"})})]})})})})})}export{xe as default};
