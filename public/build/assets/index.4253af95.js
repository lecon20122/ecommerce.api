import{r as n,j as e,a as r,d}from"./app.729b6301.js";import P from"./formDialog.b9c6dfde.js";import{D as k}from"./dashboard.ace78741.js";import{D as O}from"./DataGrid.8108a846.js";import{h as s}from"./index.m.9084c204.js";import{F as j}from"./index.es.c9fecc0d.js";import{u as w}from"./index.esm.6ea3c5b9.js";import{f as E}from"./index.es.d8ac1d95.js";import{C as L}from"./confimationDialog.96df6382.js";import{M as p}from"./MenuItem.d923c769.js";import{B as l}from"./Button.e586ca86.js";import{I as M,S as R,T as f}from"./TextField.b2584131.js";import{D as W}from"./DialogTitle.074966ac.js";import"./portal.esm.8b3bea6b.js";import"./objectWithoutPropertiesLoose.d29fb19f.js";import"./assertThisInitialized.6716b1bb.js";import"./useThemeProps.60f0af7c.js";import"./isMuiElement.f837451b.js";function le({categories:m,locale:h}){const{register:i,handleSubmit:g,formState:{errors:_},reset:C}=w(),[c,D]=n.exports.useState(!1),[b,o]=n.exports.useState(!1),[v,A]=n.exports.useState(0),u=()=>{D(!c)},I=(t,{data:a})=>{d.Inertia.get(s("admin.categories.edit",a.id))},y=(t,{data:a})=>{A(a.id),o(!0)},F=t=>{o(!1)},S=t=>{d.Inertia.post(s("admin.categories.destroy",v),void 0,{preserveState:!1}),o(!1)},x=[{field:"id",headerName:"ID"},{field:"title.ar",headerName:"Title AR",floatingFilter:!0,flex:1,cellClass:"font-bold"},{field:"title.en",headerName:"Title EN",floatingFilter:!0,flex:1,cellClass:"font-bold"},{field:`parent.title.${h}`,headerName:"Parent",floatingFilter:!0,cellClass:"font-bold"},{field:"created_at",headerName:"Created At",filter:"agDateColumnFilter",floatingFilter:!0},{headerName:"Actions",cellRenderer:t=>r("div",{children:[e(l,{onClick:a=>I(a,t),children:"UPDATE"}),e(l,{color:"error",onClick:a=>y(a,t),children:"delete"})]})}],N=t=>{const a={...t};d.Inertia.post(s("admin.categories.store"),a,{preserveState:!1}),C()},T=m.map(t=>e(p,{value:t.id,children:t.title.en},t.id));return e(k,{children:r("div",{children:[r("div",{id:"add",children:[e(l,{className:"absolute top-3 lg:left-24",variant:"contained",onClick:u,children:"Add Category"}),e(P,{btnLabel:"Add Category",header:"Create New Category",handleClose:u,open:c,children:r("form",{onSubmit:g(N),children:[r(M,{id:"demo-simple-select-standard-label",margin:"dense",children:["Choose Parent ",e("small",{children:"(optional)"})]}),r(R,{...i("parent_id"),labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",label:"Select Parent Category",margin:"dense",name:"parent_id",fullWidth:!0,autoFocus:!0,children:[e(p,{value:"",children:"No Parent"}),T]}),e(f,{...i("en"),autoFocus:!0,margin:"dense",id:"en",name:"en",label:"Category Title EN",type:"text",fullWidth:!0,variant:"outlined"}),e(f,{...i("ar"),autoFocus:!0,margin:"dense",id:"ar",name:"ar",label:"Category Title AR",type:"text",fullWidth:!0,variant:"outlined"}),r(l,{variant:"outlined",component:"label",children:[e(j,{icon:E})," ",e("span",{className:"ml-2",children:"add Image"}),e("input",{...i("images"),type:"file",multiple:!0,name:"images",hidden:!0})]}),e(W,{children:e(l,{type:"submit",color:"primary",variant:"contained",children:"Submit"})})]})})]}),e(L,{open:b,handleClose:F,handleAgree:S}),e(O,{gridData:m,colDef:x,size:{height:"90vh",width:"auto"}})]})})}export{le as default};
